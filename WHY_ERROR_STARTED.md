# 왜 갑자기 오류가 발생했는가?

## 문제 발생 시점
T-map 버튼 문제를 해결하려고 코드를 수정하는 과정에서 발생

## 가능한 원인

### 1. 디버깅 로그 추가 과정에서 발생한 문제
**원인**: `doPost` 함수에 많은 로그를 추가하면서 코드가 복잡해짐

**변경 사항**:
- `e.postData` 체크 전에 `e`가 `undefined`인지 확인하는 로직 추가
- 하지만 실제로는 `e`가 `undefined`로 전달되고 있음

### 2. GAS Web App 배포 문제
**가능성**: 코드를 수정하고 배포하는 과정에서 문제 발생

**확인 사항**:
- 배포가 제대로 완료되었는지
- Web App URL이 변경되지 않았는지
- Slack App 설정의 Request URL이 올바른지

### 3. 코드 저장 문제
**가능성**: 파일이 제대로 저장되지 않았을 수 있음

**확인 사항**:
- 모든 파일이 저장되었는지 (Ctrl+S)
- GAS 에디터에서 파일 목록 확인

### 4. `e`가 `undefined`로 전달되는 이유
**이상한 점**: GAS의 `doPost` 함수는 항상 이벤트 객체를 받아야 함

**가능한 원인**:
1. GAS에서 함수를 직접 테스트로 실행한 경우 (이 경우 `e`가 `undefined`일 수 있음)
2. Slack에서 요청이 제대로 전달되지 않은 경우
3. GAS Web App 설정 문제

## 해결 방법

### 1. 코드를 원래대로 되돌리기
가장 간단한 방법은 원래 작동하던 코드로 되돌리는 것입니다.

### 2. 단계적으로 수정하기
1. 먼저 기본 `doPost` 함수가 작동하는지 확인
2. 그 다음 로그를 하나씩 추가
3. 각 단계마다 테스트

### 3. 원래 코드 확인
`GAS_FIX_BUTTONS.md` 파일에 있는 원래 코드를 참고하여 비교

---

**작성일**: 2025-12-30

