# 디버깅 체크리스트

## 문제: `/출근` 명령어가 작동하지 않음

### 1. Slack App 설정 확인 (가장 중요!)

1. [Slack API](https://api.slack.com/apps) 접속
2. 해당 앱 선택
3. **Slash Commands** 메뉴 클릭
4. `/출근` 명령어 확인:
   - **Request URL**이 GAS Web App URL과 **정확히 일치**하는지 확인
   - URL 형식: `https://script.google.com/macros/s/.../exec`
   - URL 끝이 `/exec`인지 확인 (중요!)
   - URL에 공백이나 잘못된 문자가 없는지 확인

### 2. GAS 배포 확인 ⚠️ 중요!

**⚠️ 주의: "배포 관리 → 수정"은 사용하지 마세요!**
- "배포 관리 → 수정"을 사용하면 코드 변경사항이 제대로 반영되지 않을 수 있습니다
- **반드시 "배포 → 새 배포"를 사용하세요**

**올바른 배포 방법:**
1. GAS 에디터에서 **배포 → 새 배포** 클릭
2. 유형: **웹 앱** 선택
3. 설명: "최신 버전" 등 입력 (선택사항)
4. **배포** 클릭
5. **웹 앱 URL** 복사 (Slack App 설정에 사용)

**배포 확인:**
1. **배포 → 배포 관리** 클릭
2. **활성** 탭에서 최신 배포 확인:
   - 버전 번호 확인
   - 배포 날짜/시간 확인
   - **웹 앱 URL** 복사

### 3. URL 일치 확인

1. GAS 배포 관리에서 복사한 **웹 앱 URL**
2. Slack App 설정의 **Request URL**
3. 두 URL이 **정확히 일치**하는지 확인

### 4. 실제 테스트

1. Slack에서 `/출근` 명령어 실행
2. **즉시** GAS 에디터로 이동
3. **실행 → 실행 기록** 클릭
4. 최신 실행 기록 확인:
   - `"=== doPost 호출됨 ==="` 로그가 있는지 확인
   - `"✅ Slash command detected: /출근"` 로그가 있는지 확인

### 5. 로그가 없는 경우

**원인**: Slack에서 요청이 GAS에 도달하지 않음

**해결 방법**:
1. Slack App 설정의 Request URL을 다시 확인
2. GAS Web App URL을 다시 복사해서 Slack에 붙여넣기
3. URL 끝이 `/exec`인지 확인
4. 저장 후 다시 테스트

### 6. 로그는 있지만 작동하지 않는 경우

**원인**: 코드 에러 또는 함수 실행 실패

**해결 방법**:
1. 실행 기록에서 에러 메시지 확인
2. `"Error in handleCheckIn"` 같은 에러가 있는지 확인
3. 에러 메시지를 공유하면 해결 방법 제시 가능

---

## 중요 참고사항

- GAS 에디터에서 직접 실행 버튼을 누르면 `e`가 `undefined`로 나타나는 것은 **정상**입니다
- 실제 Slack 요청이 들어올 때만 `e.parameter`에 데이터가 들어옵니다
- 실행 기록에 Slack 요청 로그가 없다면, Slack App 설정의 Request URL이 잘못되었을 가능성이 높습니다

